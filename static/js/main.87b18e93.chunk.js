(this["webpackJsonppunk-api"]=this["webpackJsonppunk-api"]||[]).push([[0],{110:function(e,a,t){e.exports=t(129)},115:function(e,a,t){},120:function(e,a,t){},121:function(e,a,t){},129:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),l=t.n(c),o=(t(115),t(19)),i=t(26),s=function(e){var a=Object(n.useState)(""),t=Object(o.a)(a,2),r=t[0],c=t[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!0),p=Object(o.a)(d,2),f=p[0],b=p[1];return Object(n.useEffect)((function(){fetch(e).then((function(e){if(!e.ok)throw Error("could not catch data");return e.json()})).then((function(e){var a=e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{favIcon:!1})}));c(a),b(!1),m(null)})).catch((function(e){b(!1),m(e.message)}))}),[e]),{data:r,ispending:f,error:u}},u=t(79),m=t.n(u),d=t(38),p=t(183),f=t(181),b=t(158),v=t(166),h=t(162),E=t(165),g=t(163),j=Object(b.a)({field:{marginTop:20,marginBottom:20,display:"block"}}),O=function(){var e=j(),a=Object(n.useContext)(Pe),t=Object(n.useContext)(Ae),c=Object(n.useContext)(Te);console.log(c);return r.a.createElement("div",{className:m.a.navGrid},r.a.createElement("form",{className:m.a.searchForm},r.a.createElement(d.a,{variant:"h4",color:"secondary"},"Search & Filter"),r.a.createElement(f.a,{className:e.field,onChange:function(e){a.setSearchText(e.target.value)},label:"Search",variant:"outlined",color:"secondary",fullWidth:!0}),r.a.createElement(h.a,null,r.a.createElement(g.a,{color:"secondary",component:"legend"},"Extra Filters"),r.a.createElement(E.a,null,r.a.createElement(v.a,{label:"High ABV: over 6%",control:r.a.createElement(p.a,{onChange:function(e){return c.setabvCheck(e.target.checked)}})}),r.a.createElement(v.a,{label:"Acidic: Less than 4",control:r.a.createElement(p.a,{onChange:function(e){return t.setAcidity(e.target.checked)}})})))))},_=t(80),x=t.n(_),C=t(97),k=(t(120),t(121),t(32)),w=t.n(k),y=t(16),N=t(172),S=t(78),I=t.n(S),B=t(168),F=t(169),D=t(171),P=t(170),A=t(167),T=t(64),R=t.n(T),H=t(65),W=t.n(H),G=t(61);G.a.initializeApp({apiKey:"AIzaSyBqkyCnyFxIUPXqJiKkDZNPfnadXrFMRm8",authDomain:"punk-api-auth.firebaseapp.com",projectId:"punk-api-auth",storageBucket:"punk-api-auth.appspot.com",messagingSenderId:"202098359177",appId:"1:202098359177:web:04274aa57ea858eabbff58"});var L=G.a.firestore(),M=(G.a.auth(),G.a),J=Object(n.createContext)({}),z=function(e){var a=e.children,t=Object(n.useState)("please Sign in"),c=Object(o.a)(t,2),l=c[0],i=c[1],s=new M.auth.GoogleAuthProvider;return Object(n.useEffect)((function(){M.auth().onAuthStateChanged((function(e){i(e||null)}))}),[]),r.a.createElement(J.Provider,{value:{user:l,signIn:function(){M.auth().signInWithRedirect(s)},signOut:function(){M.auth().signOut().then((function(){i(null)}))}}},a)},U=Object(n.createContext)({}),V=function(e){Object(n.useContext)(J).user;return r.a.createElement(U.Provider,{value:{toggleFavs:function(e,a){a?function(e){L.collection("favourites").doc(e.name).set(Object(i.a)(Object(i.a)({},e),{},{id:e.id})).then((function(){alert("Added to Favourites!")})).catch((function(e){alert("Error Adding to Favourites: ",e)}))}(e):function(e){L.collection("favourites").doc(e.name).delete().then((function(){alert("Beer successfully removed!")})).catch((function(e){alert("Error removing Beer: ",e)}))}(e)}}},e.children)},X=Object(b.a)({btn:{display:"block",marginTop:10,width:"100%",flexGrow:2},cardHeader:{},card:{backgroundColor:"lightBlue",width:300}}),q=function(e){var a,t=X(),c=Object(y.f)(),l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],u=i[1],m=e.data,p=m.abv,f=m.name,b=m.description,v=m.image_url,h=(m.tagline,m.ph),E=m.ingredients,g=m.first_brewed,j=(m.favIcon,m.id),O=Object(n.useState)(e.data.favIcon),_=Object(o.a)(O,2),x=_[0],C=_[1],k=f.length<15?f:f.substring(0,15)+"...",S=f.length<27?f:f.substring(0,27)+"...",T=Object(n.useContext)(U).toggleFavs,H=Object(n.useContext)(J).user;x?(a=r.a.createElement(W.a,{className:w.a.fav}),console.log("SOLID icon for: "+f)):(a=r.a.createElement(R.a,{className:w.a.fav}),console.log("Outline icon for: "+f));return r.a.createElement("div",null,r.a.createElement(B.a,{className:t.card,key:j,elevation:8},r.a.createElement(F.a,{className:w.a.cardHeader,action:r.a.createElement(A.a,{onClick:function(){return a=e.data,void(H?(a.favIcon=!a.favIcon,T(a,a.favIcon),C(e.data.favIcon),console.log(f+" beer favourite status is "+e.data.favIcon)):alert("Sign in to start liking beers"));var a}},a),title:k,subheader:S}),r.a.createElement(P.a,{style:{height:300,paddingTop:"56.25%",width:"auto",margin:"0px auto",backgroundSize:"contain"},image:v,title:"Paella dish"}),r.a.createElement(D.a,{className:w.a.abv},r.a.createElement("div",{className:w.a.abvPh},r.a.createElement(d.a,{variant:"p"},"ABV: ",p),r.a.createElement(d.a,{className:w.a.ph,variant:"p"},"PH: ",h)),r.a.createElement(N.a,{onClick:function(){c.push("/beers/".concat(j))},className:t.btn,type:"submit",color:"secondary",endIcon:r.a.createElement(I.a,null)},"Click for Info!"))),s&&r.a.createElement("div",{className:w.a.popupWrapper},r.a.createElement("div",{className:w.a.popup},r.a.createElement("div",{onClick:function(){u(!1)},className:w.a.popupClose},"x"),r.a.createElement("div",{className:w.a.popupContent},r.a.createElement("img",{src:v,alt:""}),r.a.createElement("p",null,b),r.a.createElement("p",null,"Ingredients: ",E.yeast),r.a.createElement("p",null,"first brewed: ",g)))))},K=t(174),Q=t(173),Y=t(132),Z=Object(Y.a)((function(e){return{cards:{padding:e.spacing(3)}}})),$=function(e){var a=e.data,t=Z(),c=Object(n.useContext)(Pe),l=Object(n.useContext)(Ae),o=Object(n.useContext)(Te);console.log(l);var i=a.filter((function(e){return l.acidity?e.ph<=4:o.abvCheck?e.abv>6:!!e.name&&e.name.toLowerCase().includes(c.searchText.toLowerCase().trim())}));return r.a.createElement(Q.a,{className:t.page},r.a.createElement(K.a,{container:!0,spacing:3},i&&i.map((function(e){return r.a.createElement(K.a,{item:!0,key:e.id,xs:10,md:6,lg:4},r.a.createElement(q,{isfilled:!1,data:e}))}))))},ee=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1];return Object(n.useEffect)((function(){fetch("https://api.punkapi.com/v2/beers").then((function(e){return e.json()})).then(function(){var e=Object(C.a)(x.a.mark((function e(a){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{favIcon:!1})})),e.next=3,L.collection("favourites").get().then((function(e){return e.docs.map((function(e){return Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id})}))}));case 3:n=e.sent,t=t.map((function(e){return e.favIcon=n.filter((function(a){return a.name==e.name})).length>0,e})),c(t);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]),r.a.createElement(r.a.Fragment,null,t&&t.length>0?r.a.createElement($,{data:t}):null)},ae=t(175),te=t(176),ne=t(184),re=t(164),ce=t(177),le=t(178),oe=t(179),ie=t(100),se=t.n(ie),ue=t(101),me=t.n(ue),de=t(72),pe=t(182),fe=t(98),be=t.n(fe),ve=t(73),he=t.n(ve),Ee=function(e){var a=e.idRandom,t=s("https://api.punkapi.com/v2/beers/"+a),n=t.ispending,c=t.error,l=t.data;return console.log(l,"hello man"),r.a.createElement("div",null,n&&r.a.createElement("div",null,"loading...."),c&&r.a.createElement("div",null,c),l&&r.a.createElement(B.a,{className:he.a.card,key:l.id,elevation:8},r.a.createElement(F.a,{className:he.a.cardHeader,action:r.a.createElement(A.a,null),title:l[0].name,subheader:l[0].tagline}),r.a.createElement(P.a,{style:{height:300,paddingTop:"56.25%",width:"auto",margin:"0px auto",backgroundSize:"contain"},image:l[0].image_url,title:"Paella dish"}),r.a.createElement(D.a,{className:he.a.abv},r.a.createElement(d.a,{variant:"p"},"ABV: ",l[0].abv),r.a.createElement(d.a,{variant:"p"},"PH: ",l[0].ph))))},ge=t(99),je=t.n(ge);function Oe(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var _e=Object(b.a)((function(e){return{toolbar:e.mixins.toolbar,logo:{flexGrow:1},avatar:{marginLeft:e.spacing(2)},title:{flexGrow:1,alignSelf:"flex-end",display:"flex",width:55,marginRight:300},active:{backgroundColor:de.a[700]},button:{marginRight:80},popupIcons:{display:"flex",justifyContent:"space-between"},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},refresh:{cursor:"pointer"}}})),xe=function(){var e=_e({}),a=Object(y.f)(),t=Object(y.g)(),c=Object(n.useState)(Math.round(25*Math.random())),l=Object(o.a)(c,2),i=l[0],s=l[1],u=Object(n.useContext)(J),m=u.user,p=u.signIn,f=u.signOut,b=m?m.displayName:"guest",v=r.a.useState(Oe),h=Object(o.a)(v,1)[0],E=r.a.useState(!1),g=Object(o.a)(E,2),j=g[0],O=g[1];console.log(Math.round(25*Math.random()));var _=r.a.createElement("div",{style:h,className:e.paper},r.a.createElement("div",{className:e.popupIcons},r.a.createElement(be.a,{onClick:function(){s(Math.round(25*Math.random()))},className:e.refresh}),r.a.createElement(je.a,{className:e.refresh,onClick:function(){O(!1)}})),r.a.createElement(Ee,{idRandom:i})),x=[{text:"Home",icon:r.a.createElement(se.a,{color:"secondary"}),path:"/"},{text:"Your Favorites",icon:r.a.createElement(me.a,{color:"secondary"}),path:"/favs"}];return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(ae.a,{className:e.root},r.a.createElement(te.a,null,r.a.createElement(d.a,{className:e.logo},"DUI Brewers"),r.a.createElement(N.a,{type:"button",onClick:function(){O(!0)},className:e.button,color:"secondary"},"Random Beer"),r.a.createElement(pe.a,{open:j,onClose:function(){O(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},_),r.a.createElement(re.a,{className:e.title,variant:"h5",noWrap:!0},x.map((function(n){return r.a.createElement(ce.a,{button:!0,key:n.text,onClick:function(){a.push(n.path)},className:t.pathname==n.path?e.active:null},r.a.createElement(le.a,null,n.icon),r.a.createElement(oe.a,{primary:n.text}))}))),r.a.createElement(d.a,null,b),r.a.createElement(ne.a,{onClick:m?f:p,className:e.avatar}))),r.a.createElement("div",{className:e.toolbar}),r.a.createElement("div",{className:e.toolbar})))},Ce=t(74),ke=t.n(Ce),we=t(54),ye=function(){var e=Object(y.h)().id,a=s("https://api.punkapi.com/v2/beers/"+e),t=a.ispending,n=a.error,c=a.data;return console.log(c),r.a.createElement("div",{className:ke.a.beer},t&&r.a.createElement("div",null,"loading...."),n&&r.a.createElement("div",null,n),c&&r.a.createElement("div",null,r.a.createElement("h1",null,c[0].name),r.a.createElement("img",{src:c[0].image_url,alt:""}),r.a.createElement(we.b,{to:"/"},r.a.createElement("button",null,"Go Back"))),c&&r.a.createElement("div",{className:ke.a.secondDescription},r.a.createElement("p",null,r.a.createElement("span",null,"Description: "),"  ",c[0].description),r.a.createElement("p",{className:ke.a.firstBrewed},r.a.createElement("span",null,"First brewed:")," ",c[0].first_brewed),r.a.createElement("p",null,r.a.createElement("span",null,"Brewers Tips:")," ",c[0].brewers_tips),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("h4",null,"Can be paired with:"),c[0].food_pairing.map((function(e){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,e)))})))))},Ne=(t(75),Object(Y.a)({btn:{display:"block",marginTop:10,width:"100%",flexGrow:2},cardHeader:{}}),function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)((function(){return L.collection("favourites").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(i.a)(Object(i.a)({},e.data()),{},{id:e.id}))})),c(a)}))}),[]);var l=t.length?t&&t.map((function(e){return r.a.createElement(K.a,{item:!0,key:e.id,xs:10,md:6,lg:3},r.a.createElement(q,{data:e}))})):r.a.createElement("h1",null,"Start By Liking Some Beers!!");return r.a.createElement(Q.a,null,r.a.createElement(K.a,{container:!0,spacing:3},l))}),Se=t(76),Ie=t.n(Se),Be=t(102),Fe=t(180),De=Object(Be.a)({typography:{fontFamily:"Quicksand",fontWeightLight:400,fontWeightRegular:500,fontWeightBold:600}}),Pe=Object(n.createContext)({}),Ae=Object(n.createContext)({}),Te=Object(n.createContext)({}),Re=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(o.a)(m,2),p={searchText:t,setSearchText:c},f={acidity:s,setAcidity:u},b={abvCheck:d[0],setabvCheck:d[1]};return r.a.createElement(Fe.a,{theme:De},r.a.createElement(z,null,r.a.createElement(V,null,r.a.createElement(Pe.Provider,{value:p},r.a.createElement(Ae.Provider,{value:f},r.a.createElement(Te.Provider,{value:b},r.a.createElement(we.a,null,r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(xe,null)),r.a.createElement("div",{className:Ie.a.wrapper},r.a.createElement(O,{setSearchText:c}),r.a.createElement(ee,null),"}"))),r.a.createElement(y.a,{path:"/beers/:id"},r.a.createElement(xe,null),r.a.createElement("div",{className:Ie.a.wrapper},r.a.createElement(ye,null))),r.a.createElement(y.a,{path:"/favs"},r.a.createElement(xe,null),r.a.createElement("div",{className:Ie.a.wrapper},r.a.createElement(Ne,null)))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},32:function(e,a,t){e.exports={card:"Card_card__eWU7X",abv:"Card_abv__1hsbb",fav:"Card_fav__JsTC7",abvPh:"Card_abvPh__27Jec",ph:"Card_ph__24--D"}},73:function(e,a,t){e.exports={abv:"Random_abv__10RD6"}},74:function(e,a,t){e.exports={beer:"BeerDetails_beer___jgB5",types:"BeerDetails_types__2msaP",secondDescription:"BeerDetails_secondDescription__16Dcf",firstBrewed:"BeerDetails_firstBrewed__3lugd"}},75:function(e,a,t){e.exports={card:"FavCard_card__2mEkt",abv:"FavCard_abv__1SwFY",fav:"FavCard_fav__Isnn6"}},76:function(e,a,t){e.exports={wrapper:"App_wrapper__RCHjb"}},79:function(e,a,t){e.exports={navGrid:"Navbar_navGrid__1HZwL",searchForm:"Navbar_searchForm__1L7Qa"}}},[[110,1,2]]]);
//# sourceMappingURL=main.87b18e93.chunk.js.map